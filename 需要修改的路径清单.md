# æ–°ç”µè„‘ä¸Šéœ€è¦ä¿®æ”¹çš„è·¯å¾„æ¸…å•

## ğŸ“ å¿…é¡»ä¿®æ”¹çš„æ–‡ä»¶

### 1. **è®­ç»ƒé…ç½®æ–‡ä»¶** - `options/train_LOLv1.yaml` â­ æœ€é‡è¦

**æ–‡ä»¶ä½ç½®**: `options/train_LOLv1.yaml`

**éœ€è¦ä¿®æ”¹çš„è¡Œ**:
```yaml
TRAINING:
  TRAIN_DIR: '/home/bazy/ä¸‹è½½/LIEDNet/LOLv1/Train'       # â¬…ï¸ ä¿®æ”¹è¿™é‡Œ
  VAL_DIR: '/home/bazy/ä¸‹è½½/LIEDNet/LOLv1/Test'         # â¬…ï¸ ä¿®æ”¹è¿™é‡Œ
  SAVE_DIR: './checkpoints'           # è¿™ä¸ªå¯ä»¥ä¸æ”¹ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰
```

**ä¿®æ”¹ä¸º**:
```yaml
TRAINING:
  TRAIN_DIR: '/home/cnn/ä¸‹è½½/LIEDNet/LOLv1/Train'       # æˆ–æ‚¨çš„å®é™…è·¯å¾„
  VAL_DIR: '/home/cnn/ä¸‹è½½/LIEDNet/LOLv1/Test'         # æˆ–æ‚¨çš„å®é™…è·¯å¾„
  SAVE_DIR: './checkpoints'           # ä¿æŒä¸å˜ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰
```

---

### 2. **æ¨ç†è„šæœ¬** - `inference_llie.py` ï¼ˆå¦‚æœä½¿ç”¨æ¨ç†åŠŸèƒ½ï¼‰

**æ–‡ä»¶ä½ç½®**: `inference_llie.py`

**éœ€è¦ä¿®æ”¹çš„è¡Œ** (çº¦ç¬¬ 17-20 è¡Œ):
```python
parser.add_argument('--test_path', default='./datasets/LOLv1/test/low/', type=str, help='Input images')
parser.add_argument('--result_path', default='./results/LOLv1/', type=str, help='Directory for results')
parser.add_argument('--ckpt', 
                    default='./checkpoints/LOLv1/models/model_bestPSNR.pth', type=str,
```

**ä¿®æ”¹ä¸º**:
```python
parser.add_argument('--test_path', default='/home/cnn/ä¸‹è½½/LIEDNet/datasets/LOLv1/test/low/', type=str, help='Input images')
parser.add_argument('--result_path', default='/home/cnn/ä¸‹è½½/LIEDNet/results/LOLv1/', type=str, help='Directory for results')
parser.add_argument('--ckpt', 
                    default='/home/cnn/ä¸‹è½½/LIEDNet/checkpoints/LOLv1/models/model_bestPSNR.pth', type=str,
```

---

### 3. **æ¨ç†è„šæœ¬** - `inference_lol_blur.py` ï¼ˆå¦‚æœä½¿ç”¨æ¨ç†åŠŸèƒ½ï¼‰

**æ–‡ä»¶ä½ç½®**: `inference_lol_blur.py`

**éœ€è¦ä¿®æ”¹çš„è¡Œ** (çº¦ç¬¬ 41-43 è¡Œ):
```python
parser.add_argument('--test_path', type=str, default='./inputs')
parser.add_argument('--result_path', type=str, default='./results')
parser.add_argument('--ckpt', type=str, default='./weights/liednet.pth')
```

**ä¿®æ”¹ä¸º**:
```python
parser.add_argument('--test_path', type=str, default='/home/cnn/ä¸‹è½½/LIEDNet/inputs')
parser.add_argument('--result_path', type=str, default='/home/cnn/ä¸‹è½½/LIEDNet/results')
parser.add_argument('--ckpt', type=str, default='/home/cnn/ä¸‹è½½/LIEDNet/weights/liednet.pth')
```

---

## ğŸ“ å¿«é€Ÿä¿®æ”¹å‘½ä»¤

åœ¨æ–°ç”µè„‘ä¸Šè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å¿«é€Ÿä¿®æ”¹ï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd ~/ä¸‹è½½/LIEDNet  # æˆ–æ‚¨çš„é¡¹ç›®è·¯å¾„

# 1. ä¿®æ”¹è®­ç»ƒé…ç½®æ–‡ä»¶
nano options/train_LOLv1.yaml
# æˆ–
vim options/train_LOLv1.yaml
# æˆ–ä½¿ç”¨ sed å‘½ä»¤ï¼ˆæ›¿æ¢ /home/bazy ä¸º /home/cnnï¼‰
sed -i 's|/home/bazy/ä¸‹è½½/LIEDNet|/home/cnn/ä¸‹è½½/LIEDNet|g' options/train_LOLv1.yaml

# 2. ä¿®æ”¹æ¨ç†è„šæœ¬ï¼ˆå¦‚æœä½¿ç”¨ï¼‰
sed -i 's|\./datasets|/home/cnn/ä¸‹è½½/LIEDNet/datasets|g' inference_llie.py
sed -i 's|\./checkpoints|/home/cnn/ä¸‹è½½/LIEDNet/checkpoints|g' inference_llie.py
sed -i 's|\./results|/home/cnn/ä¸‹è½½/LIEDNet/results|g' inference_llie.py
sed -i 's|\./inputs|/home/cnn/ä¸‹è½½/LIEDNet/inputs|g' inference_lol_blur.py
sed -i 's|\./weights|/home/cnn/ä¸‹è½½/LIEDNet/weights|g' inference_lol_blur.py
```

---

## âœ… ä¸éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶

ä»¥ä¸‹æ–‡ä»¶ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œ**ä¸éœ€è¦ä¿®æ”¹**ï¼š

- `train_llie.py` - ä½¿ç”¨ç›¸å¯¹è·¯å¾„ `./options/train_LOLv1.yaml`
- `SAVE_DIR: './checkpoints'` - ç›¸å¯¹è·¯å¾„ï¼Œä¼šè‡ªåŠ¨åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»º
- å…¶ä»–ä½¿ç”¨ `./` çš„ç›¸å¯¹è·¯å¾„

---

## ğŸ” éªŒè¯è·¯å¾„æ˜¯å¦æ­£ç¡®

ä¿®æ”¹åï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯ï¼š

```bash
# æ£€æŸ¥è®­ç»ƒæ•°æ®è·¯å¾„æ˜¯å¦å­˜åœ¨
ls -la $(grep TRAIN_DIR options/train_LOLv1.yaml | awk '{print $2}' | tr -d "'")

# æ£€æŸ¥éªŒè¯æ•°æ®è·¯å¾„æ˜¯å¦å­˜åœ¨
ls -la $(grep VAL_DIR options/train_LOLv1.yaml | awk '{print $2}' | tr -d "'")

# æˆ–è€…ç›´æ¥æŸ¥çœ‹é…ç½®æ–‡ä»¶
cat options/train_LOLv1.yaml | grep -E "TRAIN_DIR|VAL_DIR"
```

---

## ğŸ“‹ ä¿®æ”¹æ¸…å•æ€»ç»“

| æ–‡ä»¶ | è¡Œå· | åŸè·¯å¾„ | éœ€è¦ä¿®æ”¹ä¸º |
|------|------|--------|-----------|
| `options/train_LOLv1.yaml` | 23 | `/home/bazy/ä¸‹è½½/LIEDNet/LOLv1/Train` | æ‚¨çš„è®­ç»ƒæ•°æ®è·¯å¾„ |
| `options/train_LOLv1.yaml` | 24 | `/home/bazy/ä¸‹è½½/LIEDNet/LOLv1/Test` | æ‚¨çš„éªŒè¯æ•°æ®è·¯å¾„ |
| `inference_llie.py` | 17 | `./datasets/LOLv1/test/low/` | æ‚¨çš„æµ‹è¯•æ•°æ®è·¯å¾„ï¼ˆå¯é€‰ï¼‰ |
| `inference_llie.py` | 18 | `./results/LOLv1/` | æ‚¨çš„ç»“æœä¿å­˜è·¯å¾„ï¼ˆå¯é€‰ï¼‰ |
| `inference_llie.py` | 20 | `./checkpoints/...` | æ‚¨çš„æ¨¡å‹è·¯å¾„ï¼ˆå¯é€‰ï¼‰ |
| `inference_lol_blur.py` | 41-43 | `./inputs`, `./results`, `./weights` | æ‚¨çš„å¯¹åº”è·¯å¾„ï¼ˆå¯é€‰ï¼‰ |

---

## ğŸ’¡ å»ºè®®

1. **è®­ç»ƒæ•°æ®è·¯å¾„**ï¼šç¡®ä¿ `TRAIN_DIR` å’Œ `VAL_DIR` æŒ‡å‘æ­£ç¡®çš„æ•°æ®é›†ç›®å½•
2. **ç›¸å¯¹è·¯å¾„ vs ç»å¯¹è·¯å¾„**ï¼š
   - ç›¸å¯¹è·¯å¾„ï¼ˆå¦‚ `./checkpoints`ï¼‰ä¼šåœ¨è¿è¡Œè„šæœ¬çš„å½“å‰ç›®å½•ä¸‹åˆ›å»º
   - ç»å¯¹è·¯å¾„æ›´æ˜ç¡®ï¼Œæ¨èä½¿ç”¨
3. **è·¯å¾„æ ¼å¼**ï¼šLinux è·¯å¾„ä½¿ç”¨ `/`ï¼Œä¸è¦ä½¿ç”¨ `\`







